@startuml
'https://plantuml.com/class-diagram
skinparam classAttributeIconSize 0
skinparam padding 2
skinparam ranksep 100
skinparam classFontSize 18

class RegisterSNSUserArrivalUI

class RegisterSNSUserArrivalController{
+App m_oApp
+Platform m_oPlatform
+checkLogin()
+getWorkingVaccinationCenter ()
+getListVaccinationCenter()
+checkIfExistsSNSUser(snsUserNumber)
+getSNSUser(snsUserNumber)
+validateUserArrival(vaccinationCenter,snsUserNumber)
+registerUserArrival(vaccinationCenter,user,dateOfArrival)

}

class App
{
    +getCompany()
    +getCurrentUserSession()
    +{static} static getInstance()
    -bootstrap()
}

class Company {
-designation
+getPlatform()
+getAuthFacade()
}


class Platform
{
-description
-RegisterEmployee m_oRegisterEmployee;
-RegisterVaccinationCenter m_oRegisterVaccinationCenter;
-RegisterSNSUser m_oRegisterSNSUser;
+getRegisterEmployee()
+getRegisterVaccinationCenter()
+getRegisterSNSUser()
+initializeRegisters(AuthFacade authFacade)

}

class Constants
{
+ROLE_RECEPTIONIST
}

class AuthFacade
{
+getCurrentUserSession()
}

class RegisterEmployee
{
-List<Employee> listEmployee
-AuthFacade authFacade
+getWorkingVaccinationCenter(email)
}

class RegisterVaccinationCenter
{
-List<VaccinationCenter> listVaccinationCenters
+getListVaccinationCenters()
}

class RegisterSNSUser
{
-List<SNSUser> listSNSUser
-AuthFacade authFacade
+ getSNSUserBySNSUserNumber(snsUserNumber)
}



class VaccinationCenter
{
-name
-address
-phoneNumber
-emailAddress
-faxNumber
-websiteAddress
-openingHours
-openingMinutes
-closingHours
-closingMinutes
-slotDuration
-maxNumberVaccines
-List<Day> operatingDays
-WaitingRoom waitingRoom
-List<Vaccine> listVaccines
-List<VaccineType> listVaccineTypes
+validateUserArrival(snsUserNumber)
+registerUserArrival(user,dateOfArrival)
+getDay(currentDay)
}

class SNSUser {
-name
-address
-gender
-email
-birthDate
-snsUserNumber
-citizenCardNumber
+equals()
+getSnsUserNumber()
}

class Employee
{
-id
  -name
  -address
  -phoneNumber
  -emailAddress
  -citizenCardNumber
  -{static}count_num_employees
  -vaccinationCenter
+getEmailAddress()
+getWorkingVaccinationCenter()
}

class WaitingRoom
{
-TreeMap<Date,SNSUser> map = new TreeMap<Date,SNSUser>()
+registerArrival(user, dateOfArrival)
}


class Day
{
-Date day
-List<Slot> slots
-maxNumberVaccines
+getAllVaccineSchedules()
}

class Slot
{
-Date hour
-List<VaccineSchedule> scheduledVaccinations
+getScheduledVaccinations()
}

class VaccineSchedule
{
-Date vaccinationDate
-SNSUser snsUser
-VaccineType vaccineType
-validateEntrance
+isValidateEntrance()
+setValidateEntrance(state)
}



RegisterSNSUserArrivalUI ..> RegisterSNSUserArrivalController
RegisterSNSUserArrivalController ..> Company
RegisterSNSUserArrivalController ..> Platform
RegisterSNSUserArrivalController ..> App
RegisterSNSUserArrivalController ..> Constants
RegisterSNSUserArrivalController ..> VaccinationCenter : knows >
Company "1" --> "1" Platform : has >
Company ..> AuthFacade
App ..> AuthFacade
Platform "1" --> "1" RegisterEmployee : has >
Platform "1" --> "1" RegisterVaccinationCenter : has >
Platform "1" --> "1" RegisterSNSUser : has >
RegisterSNSUser "1"--> "*" SNSUser : has >
RegisterEmployee "1" -->"*" Employee : has >
RegisterVaccinationCenter "1" -->"*" VaccinationCenter : has >
VaccinationCenter "1" --> "1" WaitingRoom : has >
VaccinationCenter "1" --> "*" Day: contains >
Day "1" --> "*" Slot : contains >
Slot "1" --> "*" VaccineSchedule : contains >
VaccinationCenter ..> VaccineSchedule
WaitingRoom "1" -- "*" SNSUser : contains >


@enduml