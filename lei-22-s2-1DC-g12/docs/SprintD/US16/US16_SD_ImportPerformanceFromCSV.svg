<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1316px" preserveAspectRatio="none" style="width:3502px;height:1316px;background:#FFFFFF;" version="1.1" viewBox="0 0 3502 1316" width="3502px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1134.7402" style="stroke:#181818;stroke-width:1.0;" width="10" x="70" y="91.4883"/><rect fill="#FFFFFF" height="413.1504" style="stroke:#181818;stroke-width:1.0;" width="10" x="420" y="112.7988"/><rect fill="#FFFFFF" height="206.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="420" y="555.2598"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="420" y="791.123"/><rect fill="#FFFFFF" height="367.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="420" y="849.7441"/><rect fill="#FFFFFF" height="196.5977" style="stroke:#181818;stroke-width:1.0;" width="10" x="794.5" y="152.1094"/><rect fill="#FFFFFF" height="118.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="794.5" y="378.0176"/><rect fill="#FFFFFF" height="147.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="794.5" y="584.5703"/><rect fill="#FFFFFF" height="308.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="794.5" y="879.0547"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="958.5" y="200.0859"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.5" y="259.3965"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.5" y="407.3281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="318.707"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1217.5" y="613.8809"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1316" y="466.6387"/><rect fill="#FFFFFF" height="59.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1483.5" y="673.1914"/><rect fill="#FFFFFF" height="279.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1483.5" y="908.3652"/><rect fill="#FFFFFF" height="182.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1488.5" y="1004.9863"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1747.5" y="702.502"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1747.5" y="937.6758"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1998" y="1039.2969"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2153" y="1098.6074"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3262.5" y="1157.918"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="75" x2="75" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="424.5" x2="424.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="799" x2="799" y1="159.7871" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="963.5" x2="963.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1058.5" x2="1058.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1132.5" x2="1132.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1222.5" x2="1222.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1320.5" x2="1320.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1488.5" x2="1488.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1752.5" x2="1752.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1876.5" x2="1876.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2002.5" x2="2002.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2157.5" x2="2157.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2357.5" x2="2357.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2540.5" x2="2540.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2655.5" x2="2655.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2779.5" x2="2779.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2888.5" x2="2888.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3045.5" x2="3045.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3267.5" x2="3267.5" y1="81.4883" y2="1235.2285"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="3434.5" x2="3434.5" y1="81.4883" y2="1235.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="5" y="78.5352">Center Coordinator</text><ellipse cx="75" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M75,21.5 L75,48.5 M62,29.5 L88,29.5 M75,48.5 L62,63.5 M75,48.5 L88,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="5" y="1247.7637">Center Coordinator</text><ellipse cx="75" cy="1259.2168" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M75,1267.2168 L75,1294.2168 M62,1275.2168 L88,1275.2168 M75,1294.2168 L62,1309.2168 M75,1294.2168 L88,1309.2168 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="370.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="377.5" y="70.5352">:ImportDataUI</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="370.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="377.5" y="1254.7637">:ImportDataUI</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="717" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="766" y="1254.7637">controller</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="724" y="1271.252">:ImportDataController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46" x="940.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="947.5" y="70.5352">:App</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46" x="940.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="947.5" y="1254.7637">:App</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46" x="1035.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1043.5" y="54.0469">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1042.5" y="70.5352">:App</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46" x="1035.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1043.5" y="1254.7637">app</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1042.5" y="1271.252">:App</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="1091.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1112" y="54.0469">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1098.5" y="70.5352">:Company</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="1091.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1112" y="1254.7637">comp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="1098.5" y="1271.252">:Company</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="1184.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1207.5" y="54.0469">plat</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1191.5" y="70.5352">:Platform</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="1184.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1207.5" y="1254.7637">plat</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="1191.5" y="1271.252">:Platform</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="1270.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1293.5" y="54.0469">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1277.5" y="70.5352">:UserSession</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="1270.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1293.5" y="1254.7637">session</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="1277.5" y="1271.252">:UserSession</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214" x="1381.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="1474" y="54.0469">ipfc</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="1388.5" y="70.5352">:ImportPerformanceFromCSV</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214" x="1381.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="1474" y="1254.7637">ipfc</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="1388.5" y="1271.252">:ImportPerformanceFromCSV</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="1689.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1700.5" y="54.0469">&lt;&lt;interface&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1698.5" y="70.5352">: LoadFromCSV</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="1689.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1700.5" y="1254.7637">&lt;&lt;interface&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1698.5" y="1271.252">: LoadFromCSV</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1825.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1832.5" y="54.0469">inputStream</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1832.5" y="70.5352">:InputStream</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102" x="1825.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1832.5" y="1254.7637">inputStream</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1832.5" y="1271.252">:InputStream</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="1937.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1944.5" y="70.5352">:RegisterSNSUser</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="1937.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1944.5" y="1254.7637">:RegisterSNSUser</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="2078.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="2085.5" y="70.5352">:RegisterVaccineType</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="2078.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="2085.5" y="1254.7637">:RegisterVaccineType</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="221" x="2247.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="2335.5" y="54.0469">folder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="2254.5" y="70.5352">:List&lt;String&gt; listOfFilesNames</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="221" x="2247.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="2335.5" y="1254.7637">folder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="2254.5" y="1271.252">:List&lt;String&gt; listOfFilesNames</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="2478.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="2516" y="54.0469">reader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="2485.5" y="70.5352">:BufferedReader</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="2478.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="2516" y="1254.7637">reader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="2485.5" y="1271.252">:BufferedReader</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="2612.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2625.5" y="54.0469">delimiter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="2619.5" y="70.5352">:Constants</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="87" x="2612.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="2625.5" y="1254.7637">delimiter</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="2619.5" y="1271.252">:Constants</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="2709.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="2716.5" y="54.0469">userNumberString</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="2752" y="70.5352">:String[]</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="2709.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="2716.5" y="1254.7637">userNumberString</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="2752" y="1271.252">:String[]</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="2859.5" y="33.5117"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="2873.5" y="54.0469">path</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="2866.5" y="70.5352">:String</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="2859.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="2873.5" y="1254.7637">path</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="2866.5" y="1271.252">:String</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="234" x="2928.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="2935.5" y="70.5352">vtl: List&lt;String&gt; vaccineTypeList</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="234" x="2928.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="2935.5" y="1254.7637">vtl: List&lt;String&gt; vaccineTypeList</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="3172.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="3179.5" y="70.5352">vaccineType: VaccineType</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="190" x="3172.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="3179.5" y="1254.7637">vaccineType: VaccineType</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="3372.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="3379.5" y="70.5352">vaccine: Vaccine</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="3372.5" y="1234.2285"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="3379.5" y="1254.7637">vaccine: Vaccine</text><rect fill="#FFFFFF" height="1134.7402" style="stroke:#181818;stroke-width:1.0;" width="10" x="70" y="91.4883"/><rect fill="#FFFFFF" height="413.1504" style="stroke:#181818;stroke-width:1.0;" width="10" x="420" y="112.7988"/><rect fill="#FFFFFF" height="206.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="420" y="555.2598"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="420" y="791.123"/><rect fill="#FFFFFF" height="367.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="420" y="849.7441"/><rect fill="#FFFFFF" height="196.5977" style="stroke:#181818;stroke-width:1.0;" width="10" x="794.5" y="152.1094"/><rect fill="#FFFFFF" height="118.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="794.5" y="378.0176"/><rect fill="#FFFFFF" height="147.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="794.5" y="584.5703"/><rect fill="#FFFFFF" height="308.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="794.5" y="879.0547"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="958.5" y="200.0859"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.5" y="259.3965"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.5" y="407.3281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1128" y="318.707"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1217.5" y="613.8809"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1316" y="466.6387"/><rect fill="#FFFFFF" height="59.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1483.5" y="673.1914"/><rect fill="#FFFFFF" height="279.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1483.5" y="908.3652"/><rect fill="#FFFFFF" height="182.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1488.5" y="1004.9863"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1747.5" y="702.502"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1747.5" y="937.6758"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1998" y="1039.2969"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="2153" y="1098.6074"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="3262.5" y="1157.918"/><polygon fill="#181818" points="408,108.7988,418,112.7988,408,116.7988,412,112.7988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="80" x2="414" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="87" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="100" y="108.0566">starts importing the data from the legacy system</text><polygon fill="#181818" points="705,138.1094,715,142.1094,705,146.1094,709,142.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430" x2="711" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="437" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="450" y="137.3672">controller = new ImportDataController()</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="717" y="120.7988"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="766" y="141.334">controller</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="724" y="157.8223">:ImportDataController</text><polygon fill="#181818" points="946.5,196.0859,956.5,200.0859,946.5,204.0859,950.5,200.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804.5" x2="952.5" y1="200.0859" y2="200.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="811.5" y="195.3438">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="824.5" y="195.3438">app = getInstance()</text><polygon fill="#181818" points="1041.5,255.3965,1051.5,259.3965,1041.5,263.3965,1045.5,259.3965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804.5" x2="1047.5" y1="259.3965" y2="259.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="811.5" y="254.6543">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="824.5" y="254.6543">comp = getCompany()</text><polygon fill="#181818" points="1116,314.707,1126,318.707,1116,322.707,1120,318.707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804.5" x2="1122" y1="318.707" y2="318.707"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="811.5" y="313.9648">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="824.5" y="313.9648">plat = getPlatform()</text><polygon fill="#181818" points="782.5,374.0176,792.5,378.0176,782.5,382.0176,786.5,378.0176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430" x2="788.5" y1="378.0176" y2="378.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="437" y="373.2754">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="450" y="373.2754">checkLogin()</text><polygon fill="#181818" points="1041.5,403.3281,1051.5,407.3281,1041.5,411.3281,1045.5,407.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804.5" x2="1047.5" y1="407.3281" y2="407.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="811.5" y="402.5859">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="824.5" y="402.5859">session = getCurrentUserSession()</text><polygon fill="#181818" points="1304,462.6387,1314,466.6387,1304,470.6387,1308,466.6387" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804.5" x2="1310" y1="466.6387" y2="466.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="811.5" y="461.8965">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="453" x="824.5" y="461.8965">answer = isLoggedInWithRole(Constants ROLE_CENTER_COORDINATOR)</text><polygon fill="#181818" points="91,521.9492,81,525.9492,91,529.9492,87,525.9492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85" x2="424" y1="525.9492" y2="525.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="97" y="521.207">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="110" y="521.207">asks for the absolute file path</text><polygon fill="#181818" points="408,551.2598,418,555.2598,408,559.2598,412,555.2598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="80" x2="414" y1="555.2598" y2="555.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="87" y="550.5176">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="109" y="550.5176">inputs the absolute file path</text><polygon fill="#181818" points="782.5,580.5703,792.5,584.5703,782.5,588.5703,786.5,584.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430" x2="788.5" y1="584.5703" y2="584.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="437" y="579.8281">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="459" y="579.8281">getListOfFiles(path)</text><polygon fill="#181818" points="1205.5,609.8809,1215.5,613.8809,1205.5,617.8809,1209.5,613.8809" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804.5" x2="1211.5" y1="613.8809" y2="613.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="811.5" y="609.1387">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="833.5" y="609.1387">ipfc = getImportPerformanceFromCSV()</text><polygon fill="#181818" points="1471.5,669.1914,1481.5,673.1914,1471.5,677.1914,1475.5,673.1914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804.5" x2="1477.5" y1="673.1914" y2="673.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="811.5" y="668.4492">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="833.5" y="668.4492">folder = getListOfFiles(path)</text><polygon fill="#181818" points="1735.5,698.502,1745.5,702.502,1735.5,706.502,1739.5,702.502" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1493.5" x2="1741.5" y1="702.502" y2="702.502"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1500.5" y="697.7598">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="1522.5" y="697.7598">getListOfFiles(path)</text><polygon fill="#181818" points="91,757.8125,81,761.8125,91,765.8125,87,761.8125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85" x2="424" y1="761.8125" y2="761.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="97" y="757.0703">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="119" y="757.0703">show list of files and ask to select one</text><polygon fill="#181818" points="408,787.123,418,791.123,408,795.123,412,791.123" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="80" x2="414" y1="791.123" y2="791.123"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="87" y="786.3809">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="109" y="786.3809">selects the intended file</text><polygon fill="#181818" points="91,816.4336,81,820.4336,91,824.4336,87,820.4336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85" x2="424" y1="820.4336" y2="820.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="97" y="815.6914">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="119" y="815.6914">requests confirmation of the import</text><polygon fill="#181818" points="408,845.7441,418,849.7441,408,853.7441,412,849.7441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="80" x2="414" y1="849.7441" y2="849.7441"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="87" y="845.002">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="109" y="845.002">confirms the import</text><polygon fill="#181818" points="782.5,875.0547,792.5,879.0547,782.5,883.0547,786.5,879.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430" x2="788.5" y1="879.0547" y2="879.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="437" y="874.3125">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="459" y="874.3125">importPerformanceFromCSV()</text><polygon fill="#181818" points="1471.5,904.3652,1481.5,908.3652,1471.5,912.3652,1475.5,908.3652" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="804.5" x2="1477.5" y1="908.3652" y2="908.3652"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="811.5" y="903.623">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="833.5" y="903.623">importPerformanceFromCSV(path)</text><polygon fill="#181818" points="1735.5,933.6758,1745.5,937.6758,1735.5,941.6758,1739.5,937.6758" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1493.5" x2="1741.5" y1="937.6758" y2="937.6758"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1500.5" y="932.9336">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1522.5" y="932.9336">inputStream = loadFromCSV(path)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1493.5" x2="1540.5" y1="991.9863" y2="991.9863"/><line style="stroke:#181818;stroke-width:1.0;" x1="1540.5" x2="1540.5" y1="991.9863" y2="1004.9863"/><line style="stroke:#181818;stroke-width:1.0;" x1="1499.5" x2="1540.5" y1="1004.9863" y2="1004.9863"/><polygon fill="#181818" points="1509.5,1000.9863,1499.5,1004.9863,1509.5,1008.9863,1505.5,1004.9863" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1505.5" y="987.2441">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="1527.5" y="987.2441">convertCSV(inputStream)</text><polygon fill="#181818" points="1986,1035.2969,1996,1039.2969,1986,1043.2969,1990,1039.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1498.5" x2="1992" y1="1039.2969" y2="1039.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1505.5" y="1034.5547">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="1527.5" y="1034.5547">getSNSUserBySNSUserNumber(userNumberString)</text><polygon fill="#181818" points="2141,1094.6074,2151,1098.6074,2141,1102.6074,2145,1098.6074" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1498.5" x2="2147" y1="1098.6074" y2="1098.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1505.5" y="1093.8652">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1527.5" y="1093.8652">getListVaccineType(userNumberString)</text><polygon fill="#181818" points="3250.5,1153.918,3260.5,1157.918,3250.5,1161.918,3254.5,1157.918" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1498.5" x2="3256.5" y1="1157.918" y2="1157.918"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1505.5" y="1153.1758">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="1527.5" y="1153.1758">getDesignation()</text><polygon fill="#181818" points="91,1213.2285,81,1217.2285,91,1221.2285,87,1217.2285" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85" x2="424" y1="1217.2285" y2="1217.2285"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="97" y="1212.4863">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="119" y="1212.4863">informs operation success</text><!--MD5=[3d2f5bdf7ba2b78d539708bf274c09ea]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor "Center Coordinator" as CC
participant ":ImportDataUI" as UI
participant "controller\n:ImportDataController" as Controller
participant ":App" as App
participant "app \n:App" as app
participant "comp \n:Company" as Company
participant "plat \n:Platform" as Platform
participant "session \n:UserSession" as Session
participant "ipfc \n:ImportPerformanceFromCSV" as IPFC
participant " <<interface>> \n: LoadFromCSV " as ILFC
participant "inputStream \n:InputStream" as IS
participant ":RegisterSNSUser" as RSU
participant ":RegisterVaccineType" as RVT
participant "folder \n:List<String> listOfFilesNames"
participant "reader \n:BufferedReader"
participant "delimiter\n:Constants"
participant "userNumberString\n:String[]"
participant "path\n:String"
participant "vtl: List<String> vaccineTypeList"
participant "vaccineType: VaccineType" as VT
participant "vaccine: Vaccine"


'1
activate CC
CC -> UI: starts importing the data from the legacy system
activate UI

'2
UI -> Controller**: controller = new ImportDataController()
activate Controller

'3
Controller -> App: app = getInstance()
activate App
deactivate App

'4
Controller -> app: comp = getCompany()
activate app
deactivate app

'5
Controller -> Company: plat = getPlatform()
activate Company
deactivate Company
deactivate Controller

'6
UI -> Controller: checkLogin()
activate Controller

'7
Controller -> app: session = getCurrentUserSession()
activate app
deactivate app

'8
Controller -> Session: answer = isLoggedInWithRole(Constants ROLE_CENTER_COORDINATOR)
activate Session
deactivate Session
deactivate Controller

'9
UI - -> CC: asks for the absolute file path
deactivate UI

'10
CC -> UI: inputs the absolute file path
activate UI

'11
UI -> Controller: getListOfFiles(path)
activate Controller

'12
Controller -> Platform: ipfc = getImportPerformanceFromCSV()
activate Platform
deactivate Platform

'13
Controller -> IPFC: folder = getListOfFiles(path)
activate IPFC

'14
IPFC -> ILFC : getListOfFiles(path)
activate ILFC
deactivate ILFC
deactivate IPFC

deactivate Controller

'15
UI - -> CC : show list of files and ask to select one
deactivate UI

'16
CC -> UI : selects the intended file
activate UI

'17
UI - -> CC: requests confirmation of the import
deactivate UI

'18
CC -> UI: confirms the import
activate UI

'19
UI -> Controller: importPerformanceFromCSV()
activate Controller

'20
Controller -> IPFC: importPerformanceFromCSV(path)
activate IPFC

'21
IPFC -> ILFC: inputStream = loadFromCSV(path)
activate ILFC
deactivate ILFC

'22
IPFC -> IPFC : convertCSV(inputStream)
activate IPFC

'23
IPFC -> RSU: getSNSUserBySNSUserNumber(userNumberString)
activate RSU
deactivate RSU

'24
IPFC -> RVT: getListVaccineType(userNumberString)
activate RVT
deactivate RVT

'25
IPFC -> VT : getDesignation()
activate VT
deactivate VT
deactivate IPFC
deactivate IPFC
deactivate Controller
deactivate IPFC

'26
UI - -> CC: informs operation success
deactivate UI


@enduml

@startuml

autonumber

actor "Center Coordinator" as CC
participant ":ImportDataUI" as UI
participant "controller\n:ImportDataController" as Controller
participant ":App" as App
participant "app \n:App" as app
participant "comp \n:Company" as Company
participant "plat \n:Platform" as Platform
participant "session \n:UserSession" as Session
participant "ipfc \n:ImportPerformanceFromCSV" as IPFC
participant " <<interface>> \n: LoadFromCSV " as ILFC
participant "inputStream \n:InputStream" as IS
participant ":RegisterSNSUser" as RSU
participant ":RegisterVaccineType" as RVT
participant "folder \n:List<String> listOfFilesNames"
participant "reader \n:BufferedReader"
participant "delimiter\n:Constants"
participant "userNumberString\n:String[]"
participant "path\n:String"
participant "vtl: List<String> vaccineTypeList"
participant "vaccineType: VaccineType" as VT
participant "vaccine: Vaccine"


activate CC
CC -> UI: starts importing the data from the legacy system
activate UI

UI -> Controller**: controller = new ImportDataController()
activate Controller

Controller -> App: app = getInstance()
activate App
deactivate App

Controller -> app: comp = getCompany()
activate app
deactivate app

Controller -> Company: plat = getPlatform()
activate Company
deactivate Company
deactivate Controller

UI -> Controller: checkLogin()
activate Controller

Controller -> app: session = getCurrentUserSession()
activate app
deactivate app

Controller -> Session: answer = isLoggedInWithRole(Constants ROLE_CENTER_COORDINATOR)
activate Session
deactivate Session
deactivate Controller

UI - -> CC: asks for the absolute file path
deactivate UI

CC -> UI: inputs the absolute file path
activate UI

UI -> Controller: getListOfFiles(path)
activate Controller

Controller -> Platform: ipfc = getImportPerformanceFromCSV()
activate Platform
deactivate Platform

Controller -> IPFC: folder = getListOfFiles(path)
activate IPFC

IPFC -> ILFC : getListOfFiles(path)
activate ILFC
deactivate ILFC
deactivate IPFC

deactivate Controller

UI - -> CC : show list of files and ask to select one
deactivate UI

CC -> UI : selects the intended file
activate UI

UI - -> CC: requests confirmation of the import
deactivate UI

CC -> UI: confirms the import
activate UI

UI -> Controller: importPerformanceFromCSV()
activate Controller

Controller -> IPFC: importPerformanceFromCSV(path)
activate IPFC

IPFC -> ILFC: inputStream = loadFromCSV(path)
activate ILFC
deactivate ILFC

IPFC -> IPFC : convertCSV(inputStream)
activate IPFC

IPFC -> RSU: getSNSUserBySNSUserNumber(userNumberString)
activate RSU
deactivate RSU

IPFC -> RVT: getListVaccineType(userNumberString)
activate RVT
deactivate RVT

IPFC -> VT : getDesignation()
activate VT
deactivate VT
deactivate IPFC
deactivate IPFC
deactivate Controller
deactivate IPFC

UI - -> CC: informs operation success
deactivate UI


@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: PT
--></g></svg>